<div class="container">
  <div class="card card-container">

    <img id="profile-img" class="profile-img-card" src="assets/images/password-reset.png" />

    <form class="form-signin" (ngSubmit)="resetPassword(btReset)" [formGroup]="resetForm">

      <input type="password" id="password" class="form-control" name="password" placeholder="New password"
        (focus)="clearErrors()" title="Please enter the new password" autocomplete="off" formControlName="password"
        required>

      <input type="password" id="confirmpass" class="form-control" name="confirmpass" placeholder="Confirm new password"
        (focus)="clearErrors()" title="Please re-enter the new password" autocomplete="off" formControlName="confirmpass"
        required>

      <button #btReset class="btn btn-lg btn-danger btn-block btn-signin" type="submit">Reset Password</button>

      <p class="text-success" style="text-align:center;" *ngIf="errorMessage">{{errorMessage}}</p>

      <div class="error" *ngIf="resetForm.hasError('resetErrors')">
        <div
          *ngIf="resetForm.controls['password'].invalid && (resetForm.controls['password'].dirty || resetForm.controls['password'].touched)"
          class="alert">
          <div *ngIf="resetForm.controls['password'].errors?.['required']">
            Password is required.
          </div>
          <div *ngIf="resetForm.controls['password'].errors?.['minlength']">
            Password must be at least 8 characters long.
          </div>
        </div>
        <div
          *ngIf="resetForm.controls['confirmpass'].invalid"
          class="alert">
          <div *ngIf="resetForm.controls['confirmpass'].errors?.['required']">
            Confirm Password is required.
          </div>
          <div *ngIf="resetForm.controls['confirmpass'].errors?.['minlength']">
            Confirm Password must be at least 8 characters long.
          </div>
        </div>
      </div>

    </form>

  </div>
</div>

<app-messages></app-messages>